import{_ as g,a as v}from"./CoverImage-Blw7EPL7.js";import{_ as p,o as e,c as r,a as c,u as h,b as d,t as y,s as x,d as n,e as _,f as m,F as b,r as w}from"./index-B4v70nYK.js";import{L as $}from"./LoadingIcon-DAa4zukf.js";import{_ as B}from"./SearchBar-Bf8xIH_c.js";const L={},S={class:"icon chevron-right"},T=c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"black",class:"w-6 h-6"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1),A=[T];function I(t,s){return e(),r("i",S,A)}const V=p(L,[["render",I]]),j={class:"flex-grow"},C={class:"font-semibold"},D={__name:"ArtistItem",props:{artist:Object},setup(t){const s=t,o=h(),i=()=>{o.getArtist(s.artist.spotify_id)};return(a,l)=>(e(),r("div",{class:"flex items-center space-x-2 border-b pb-2 pt-2 cursor-pointer",onClick:i},[d(g,{src:t.artist.image_url,alt:t.artist.name,type:"artist"},null,8,["src","alt"]),c("div",j,[c("h3",C,y(t.artist.name),1)]),d(V)]))}},R={},M={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",class:"w-6 h-6"},N=c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),F=[N];function O(t,s){return e(),r("svg",M,F)}const q=p(R,[["render",O]]),z={__name:"DownloadTrackButton",props:{spotify_id:String,youtube_id:String},setup(t){const s=h(),{downloading:o,queue:i}=x(s),a=t,l=()=>{s.downloadTrack(a.spotify_id??a.youtube_id??null)};return(f,u)=>n(o).includes(t.spotify_id)||n(o).includes(t.youtube_id)?(e(),_($,{key:0})):!n(i).find(k=>k.spotify_id===t.spotify_id)&&!n(i).find(k=>k.youtube_id===t.youtube_id)?(e(),r("button",{key:1,class:"text-blue-500 border border-blue-500 px-2 py-1 rounded hover:bg-blue-500 hover:text-white stroke-blue-500 hover:stroke-white",onClick:l},[d(q)])):m("",!0)}},E=p(z,[["__scopeId","data-v-41ac9ed2"]]),G={class:"flex items-center space-x-2 border-b pb-2 pt-2"},H={class:"flex-grow"},J={class:"font-semibold"},K={class:"text-gray-400"},P={__name:"TrackResultItem",props:{track:Object},setup(t){return(s,o)=>(e(),r("div",G,[d(g,{src:t.track.cover_url,alt:t.track.name,type:"track"},null,8,["src","alt"]),c("div",H,[c("h3",J,y(t.track.name),1),c("p",K,y(t.track.artist),1)]),t.track.downloaded?m("",!0):(e(),_(E,{key:0,spotify_id:t.track.spotify_id,youtube_id:t.track.youtube_id},null,8,["spotify_id","youtube_id"]))]))}},Q={class:"w-full max-w-xl space-y-2 mt-4",id:"results-list"},U={__name:"ResultsList",setup(t){const s=h(),{results:o}=x(s);return(i,a)=>{var l,f;return e(),r("div",Q,[((l=n(o).artists)==null?void 0:l.length)>0?(e(!0),r(b,{key:0},w(n(o).artists,u=>(e(),_(D,{key:u.id,artist:u},null,8,["artist"]))),128)):m("",!0),((f=n(o).tracks)==null?void 0:f.length)>0?(e(!0),r(b,{key:1},w(n(o).tracks,u=>(e(),_(P,{key:u.id,track:u},null,8,["track"]))),128)):m("",!0)])}}},W=c("div",{class:"flex flex-col items-center space-y-4 mt-5"},"Télécharger",-1),X={class:"divide-y divide-muted"},Y={class:"flex flex-col items-center space-y-4 mt-5"},Z=c("div",{id:"toasts",class:"fixed bottom-0 right-0 p-4 z-20"},null,-1),ct={__name:"index",setup(t){const s=h(),{isLoading:o}=x(s),i=async a=>{await s.search(a)};return(a,l)=>(e(),r("main",null,[W,c("div",X,[c("div",Y,[d(B,{searchAction:i,searchButton:!0}),d(U),d(v,{isLoading:n(o)},null,8,["isLoading"]),Z])])]))}};export{ct as default};
