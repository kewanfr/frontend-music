import{_ as v,a as g}from"./CoverImage-CdgkIx5k.js";import{_ as p,o as e,c,a as s,u as h,b as u,t as w,s as x,d as l,e as f,f as k,F as y,r as b,g as $,h as S,i as B,j as q,w as L,v as T,k as R}from"./index-ZXQo0bpI.js";import{L as j}from"./LoadingIcon-ZrElSEg3.js";const A={},I={class:"icon chevron-right"},V=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"black",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1),C=[V];function D(t,o){return e(),c("i",I,C)}const M=p(A,[["render",D]]),N={class:"flex-grow"},z={class:"font-semibold"},F={__name:"ArtistItem",props:{artist:Object},setup(t){const o=t,n=h(),i=()=>{n.getArtist(o.artist.spotify_id)};return(r,a)=>(e(),c("div",{class:"flex items-center space-x-2 border-b pb-2 pt-2 cursor-pointer",onClick:i},[u(v,{src:t.artist.image_url,alt:t.artist.name,type:"artist"},null,8,["src","alt"]),s("div",N,[s("h3",z,w(t.artist.name),1)]),u(M)]))}},K={},O={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",class:"w-6 h-6"},E=s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),U=[E];function Z(t,o){return e(),c("svg",O,U)}const G=p(K,[["render",Z]]),H={__name:"DownloadTrackButton",props:{spotify_id:String,youtube_id:String},setup(t){const o=h(),{downloading:n,queue:i}=x(o),r=t,a=()=>{o.downloadTrack(r.spotify_id??r.youtube_id??null)};return(m,d)=>l(n).includes(t.spotify_id)||l(n).includes(t.youtube_id)?(e(),f(j,{key:0})):!l(i).find(_=>_.spotify_id===t.spotify_id)&&!l(i).find(_=>_.youtube_id===t.youtube_id)?(e(),c("button",{key:1,class:"text-blue-500 border border-blue-500 px-2 py-1 rounded hover:bg-blue-500 hover:text-white stroke-blue-500 hover:stroke-white",onClick:a},[u(G)])):k("",!0)}},J=p(H,[["__scopeId","data-v-41ac9ed2"]]),P={class:"flex items-center space-x-2 border-b pb-2 pt-2"},Q={class:"flex-grow"},W={class:"font-semibold"},X={class:"text-gray-400"},Y={__name:"TrackResultItem",props:{track:Object},setup(t){return(o,n)=>(e(),c("div",P,[u(v,{src:t.track.cover_url,alt:t.track.name,type:"track"},null,8,["src","alt"]),s("div",Q,[s("h3",W,w(t.track.name),1),s("p",X,w(t.track.artist),1)]),t.track.downloaded?k("",!0):(e(),f(J,{key:0,spotify_id:t.track.spotify_id,youtube_id:t.track.youtube_id},null,8,["spotify_id","youtube_id"]))]))}},tt={class:"w-full max-w-xl space-y-2 mt-4",id:"results-list"},et={__name:"ResultsList",setup(t){const o=h(),{music:n}=x(o);return(i,r)=>{var a,m;return e(),c("div",tt,[((a=l(n).artists)==null?void 0:a.length)>0?(e(!0),c(y,{key:0},b(l(n).artists,d=>(e(),f(F,{key:d.id,artist:d},null,8,["artist"]))),128)):k("",!0),((m=l(n).tracks)==null?void 0:m.length)>0?(e(!0),c(y,{key:1},b(l(n).tracks,d=>(e(),f(Y,{key:d.id,track:d},null,8,["track"]))),128)):k("",!0)])}}},st={},ot={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"white",class:"w-6 h-6"},nt=s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"},null,-1),ct=[nt];function rt(t,o){return e(),c("svg",ot,ct)}const it=p(st,[["render",rt]]),at={class:"w-full max-w-xl flex border rounded overflow-hidden mb-2"},dt={__name:"SearchBar",setup(t){const o=h(),n=$(),i=S(),r=B(i.query.q||""),a=async()=>{n.push({query:{q:r.value}}),await o.search(r.value)};return q(()=>{i.query.q&&a()}),(m,d)=>(e(),c("div",at,[L(s("input",{placeholder:"Recherchez une musique...",class:"p-2 flex-grow text-black",type:"text",id:"search-input","onUpdate:modelValue":d[0]||(d[0]=_=>r.value=_),onKeydown:R(a,["enter"])},null,544),[[T,r.value]]),s("button",{class:"bg-blue-500 text-white p-2 rounded-r hover:bg-blue-400",id:"search-button",onClick:a},[u(it)])]))}},lt=s("div",{class:"flex flex-col items-center space-y-4 mt-5"},"Télécharger",-1),ut={class:"divide-y divide-muted"},_t={class:"flex flex-col items-center space-y-4 mt-5"},ht=s("div",{id:"toasts",class:"fixed bottom-0 right-0 p-4 z-20"},null,-1),pt={__name:"index",setup(t){const o=h(),{isLoading:n}=x(o);return(i,r)=>(e(),c("main",null,[lt,s("div",ut,[s("div",_t,[u(dt),u(et),u(g,{isLoading:l(n)},null,8,["isLoading"]),ht])])]))}};export{pt as default};
