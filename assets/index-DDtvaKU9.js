import{_ as y,L as b,a as $}from"./LoadingIcon-BV0UnPdm.js";import{_ as p,o as e,c,a as s,u as _,b as d,t as w,s as x,d as u,e as m,f,F as v,r as g,g as B,h as S,i as q,j as L,w as T,v as R,k as j}from"./index-EW2u0gKn.js";/* empty css                                                    */const A={},I={class:"icon chevron-right"},V=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"black",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1),C=[V];function D(t,o){return e(),c("i",I,C)}const M=p(A,[["render",D]]),N={class:"flex-grow"},z={class:"font-semibold"},F={__name:"ArtistItem",props:{artist:Object},setup(t){const o=t,n=_(),l=()=>{n.getArtist(o.artist.spotify_id)};return(r,a)=>(e(),c("div",{class:"flex items-center space-x-2 border-b pb-2 pt-2 cursor-pointer",onClick:l},[d(y,{src:t.artist.image_url,alt:t.artist.name,type:"artist"},null,8,["src","alt"]),s("div",N,[s("h3",z,w(t.artist.name),1)]),d(M)]))}},K={},O={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",class:"w-6 h-6"},E=s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),U=[E];function Z(t,o){return e(),c("svg",O,U)}const G=p(K,[["render",Z]]),H={__name:"DownloadTrackButton",props:{spotify_id:String,downloaded:Boolean},setup(t){const o=_(),{downloading:n,queue:l}=x(o),r=t,a=()=>{o.downloadTrack(r.spotify_id)};return(h,i)=>u(n).includes(t.spotify_id)?(e(),m(b,{key:0})):u(l).find(k=>k.spotify_id===t.spotify_id)?f("",!0):(e(),c("button",{key:1,class:"text-blue-500 border border-blue-500 px-2 py-1 rounded hover:bg-blue-500 hover:text-white stroke-blue-500 hover:stroke-white",onClick:a},[d(G)]))}},J=p(H,[["__scopeId","data-v-2969fb9f"]]),P={class:"flex items-center space-x-2 border-b pb-2 pt-2"},Q={class:"flex-grow"},W={class:"font-semibold"},X={class:"text-gray-400"},Y={__name:"TrackResultItem",props:{track:Object},setup(t){return(o,n)=>(e(),c("div",P,[d(y,{src:t.track.cover_url,alt:t.track.name,type:"track"},null,8,["src","alt"]),s("div",Q,[s("h3",W,w(t.track.name),1),s("p",X,w(t.track.artist),1)]),t.track.downloaded?f("",!0):(e(),m(J,{key:0,spotify_id:t.track.spotify_id},null,8,["spotify_id"]))]))}},tt={class:"w-full max-w-xl space-y-2 mt-4",id:"results-list"},et={__name:"ResultsList",setup(t){const o=_(),{music:n}=x(o);return(l,r)=>{var a,h;return e(),c("div",tt,[((a=u(n).artists)==null?void 0:a.length)>0?(e(!0),c(v,{key:0},g(u(n).artists,i=>(e(),m(F,{key:i.id,artist:i},null,8,["artist"]))),128)):f("",!0),((h=u(n).tracks)==null?void 0:h.length)>0?(e(!0),c(v,{key:1},g(u(n).tracks,i=>(e(),m(Y,{key:i.id,track:i},null,8,["track"]))),128)):f("",!0)])}}},st={},ot={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"white",class:"w-6 h-6"},nt=s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"},null,-1),ct=[nt];function rt(t,o){return e(),c("svg",ot,ct)}const at=p(st,[["render",rt]]),it={class:"w-full max-w-xl flex border rounded overflow-hidden mb-2"},lt={__name:"SearchBar",setup(t){const o=_(),n=B(),l=S(),r=q(l.query.q||""),a=async()=>{n.push({query:{q:r.value}}),await o.search(r.value)};return L(()=>{l.query.q&&a()}),(h,i)=>(e(),c("div",it,[T(s("input",{placeholder:"Recherchez une musique...",class:"p-2 flex-grow text-black",type:"text",id:"search-input","onUpdate:modelValue":i[0]||(i[0]=k=>r.value=k),onKeydown:j(a,["enter"])},null,544),[[R,r.value]]),s("button",{class:"bg-blue-500 text-white p-2 rounded-r hover:bg-blue-400",id:"search-button",onClick:a},[d(at)])]))}},dt=s("div",{class:"flex flex-col items-center space-y-4 mt-5"},"Télécharger",-1),ut={class:"divide-y divide-muted"},_t={class:"flex flex-col items-center space-y-4 mt-5"},ht=s("div",{id:"toasts",class:"fixed bottom-0 right-0 p-4 z-20"},null,-1),kt={__name:"index",setup(t){const o=_(),{isLoading:n}=x(o);return(l,r)=>(e(),c("main",null,[dt,s("div",ut,[s("div",_t,[d(lt),d(et),d($,{isLoading:u(n)},null,8,["isLoading"]),ht])])]))}};export{kt as default};
